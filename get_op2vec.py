from gensim.models import Word2Vec
sentences = []

count = 0
with open('demofile2.txt') as fp:
    i = 0
    for line in fp:
        if(i==20000):
            break
        sentence = []
        if(line != "\n"):
            for code in line.split():
                if("0x" in code):
                    sentence.append("HEX")
                elif("\n" in code):
                    sentence.append(code.replace("\n",""))
                else:
                    sentence.append(code)
            sentences.append(sentence)
            i = i + 1
            if (i == 1):
                print(sentence)

print("Data reading is finished")

model = Word2Vec(sentences)
print(model)
for index, word in enumerate(model.wv.index_to_key):
    if index == 10:
        break
    print(f"word #{index}/{len(model.wv.index_to_key)} is {word}")

model.wv.save('vectors.kv')


